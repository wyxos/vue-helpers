!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("keen-ui"),require("vue-events"),require("axios")):"function"==typeof define&&define.amd?define("VueHelpers",["keen-ui","vue-events","axios"],t):"object"==typeof exports?exports.VueHelpers=t(require("keen-ui"),require("vue-events"),require("axios")):e.VueHelpers=t(e["keen-ui"],e["vue-events"],e.axios)}(window,function(e,t,n){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/",n(n.s=2)}([function(t,n){t.exports=e},function(e,n){e.exports=t},function(e,t,n){e.exports=n(4)},function(e,t){e.exports=n},function(e,t,n){"use strict";n.r(t);var r=n(0),o=n.n(r),i=n(1),s=n.n(i);function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var a={install:function(e){e.prototype.$errors=new e({data:function(){return{errors:[{key:"default",items:[]}]}},methods:{setBag:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"default";if("object"===u(e)){var n=Object.keys(e);e=n.map(function(t){return{key:t,message:e[t][0]}})}this.findBag(t).items=e},set:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"default";this.findBag(n).items.push({key:e,message:t})},get:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"default";return this.findBag(t).items.find(function(t){return t.key===e}).message},remove:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"default",n=this.findBag(t).items,r=n.findIndex(function(t){return t.key===e});n.splice(r,1)},clear:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"default",t=this.findBag(e);t&&(t.items=[])},exists:function(e){return Boolean(this.find(e))},findBag:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"default";return this.errors.find(function(t){return t.key===e})},find:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"default",n=this.findBag(t);return n?n.items.find(function(t){return t.key===e}):null}}}),e.component("form-error",n(5).default)}},f={install:function(e){e.prototype.$state=new e({data:function(){return{items:[]}},methods:{running:function(e){return e?Boolean(this.items.find(function(t){return t.name===e})):Boolean(this.items.length)},add:function(e){this.running(e)||this.items.push({name:e})},clear:function(e){if(e){var t=this.items.findIndex(function(t){return t.name===e});this.items.splice(t,1)}else this.items=[]}}})}},c={install:function(e){e.prototype.$modals=new e({methods:{open:function(e){this.$events.fire("openModal",e)},close:function(e){this.$events.fire("closeModal",e)}}})}},l={install:function(e){e.prototype.$boolean=new e({data:function(){return{states:[]}},methods:{toggle:function(e){var t=this.find(e);t||(t=this.set(e)),t.value=!t.value},find:function(e){return this.states.find(function(t){return t.key===e})},set:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=this.find(e);if(n)return n.value=t,n;var r={key:e,value:t};return this.states.push(r),r},get:function(e){var t=this.find(e);return!!t&&t.value}}})}},d=n(3),p={install:function(e){var t=this,n=d.create();n.defaults.headers.common["X-Requested-With"]="XMLHttpRequest";var r=document.head.querySelector('meta[name="csrf-token"]');r?n.defaults.headers.common["X-CSRF-TOKEN"]=r.content:console.error("CSRF token not found: https://laravel.com/docs/csrf#csrf-x-csrf-token"),n.interceptors.request.use(function(e){return t.$errors.clear(),t.$state.add("ajax"),e}),n.interceptors.response.use(function(e){return t.$state.clear("ajax"),e},function(e){return t.$state.clear("ajax"),t.handleError(e),Promise.reject(e)}),e.prototype.$axios=n}};t.default={install:function(e){e.use(o.a),e.use(s.a),e.use(a),e.use(f),e.use(c),e.use(l),e.use(p),e.mixin({computed:{isLoading:function(){return this.$state.running()}},methods:{openModal:function(e){this.$refs[e].open()},closeModal:function(e){this.$refs[e].close()},handleError:function(e){var t=e&&e.response?e.response.status:500,n=e.response&&e.response.data&&e.response.data.errors;if(403===t)throw e;if(n&&422===t)throw this.$errors.setBag(e.response.data.errors),this.$modals.open("formErrors"),e;if([401,419].indexOf(t)>-1)throw e;throw this.$errors.setBag({unexpected_error:["An unexpected error occurred"]}),this.$modals.open("formErrors"),e}}}),e.prototype.$routes=function(e){if(window.Laravel)return e?window.Laravel.routes[e]:window.Laravel.routes;console.error("Laravel is not globally defined.")}}}},function(e,t,n){"use strict";n.r(t);var r=function(e,t,n,r,o,i,s,u){var a,f="function"==typeof e?e.options:e;if(t&&(f.render=t,f.staticRenderFns=n,f._compiled=!0),r&&(f.functional=!0),i&&(f._scopeId="data-v-"+i),s?(a=function(e){(e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),o&&o.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(s)},f._ssrRegister=a):o&&(a=u?function(){o.call(this,this.$root.$options.shadowRoot)}:o),a)if(f.functional){f._injectStyles=a;var c=f.render;f.render=function(e,t){return a.call(t),c(e,t)}}else{var l=f.beforeCreate;f.beforeCreate=l?[].concat(l,a):[a]}return{exports:e,options:f}}({name:"FormError",props:{name:{type:String,required:!0}},methods:{exists:function(e){return this.$errors.exists(e)},get:function(e){return this.$errors.get(e)}}},function(){var e=this.$createElement,t=this._self._c||e;return this.exists(this.name)?t("span",{staticClass:"error"},[this._v(this._s(this.get(this.name)))]):this._e()},[],!1,null,null,null);r.options.__file="FormError.vue";t.default=r.exports}])});